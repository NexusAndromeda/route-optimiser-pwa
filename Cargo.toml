[package]
name = "route-optimizer-app"
version = "0.1.0"
edition = "2021"

[dependencies]
# Dioxus core
dioxus = { git = "https://github.com/DioxusLabs/dioxus", rev = "0b1f2fc" }
dioxus-router = { git = "https://github.com/DioxusLabs/dioxus", rev = "0b1f2fc" }

# Serialización
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# Logging
log = "0.4"

# Timers (para todas las plataformas)
gloo-timers = "0.3"

# Configuración
lazy_static = "1.4"
dotenv = "0.15"

# Platform-specific dependencies
[target.'cfg(target_os = "android")'.dependencies]
android_logger = "0.13"

[target.'cfg(target_os = "ios")'.dependencies]
oslog = "0.2"

[target.'cfg(target_arch = "wasm32")'.dependencies]
wasm-logger = "0.2"
console_error_panic_hook = "0.1"
wasm-bindgen = { version = "0.2", features = ["serde-serialize"] }
web-sys = { version = "0.3", features = ["Window", "Location", "console", "Document", "Element", "HtmlElement", "Event", "EventTarget", "MouseEvent", "Geolocation", "Navigator", "PositionError", "MediaQueryList", "MediaQueryListEvent", "ScrollIntoViewOptions", "ScrollBehavior", "ScrollLogicalPosition", "CustomEvent"] }
gloo-net = "0.6"  # HTTP client para WASM
gloo-timers = "0.3"  # Para timeouts y delays
js-sys = "0.3"    # Para trabajar con JavaScript
wasm-bindgen-futures = "0.4"  # Para async/await en WASM
serde-wasm-bindgen = "0.6"  # Para serialización con WASM

[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
reqwest = { version = "0.11", features = ["json"] }
tokio = { version = "1", features = ["full"] }

[profile.release]
opt-level = "z"     # Optimize for size
lto = true          # Enable Link Time Optimization
codegen-units = 1   # Reduce code size
strip = true        # Strip symbols
panic = "abort"     # Reduce binary size
